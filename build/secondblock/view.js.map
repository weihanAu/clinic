{"version":3,"file":"secondblock/view.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACAA,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;EACzD,MAAMC,aAAa,GAAGF,QAAQ,CAACG,gBAAgB,CAC9C,oCACD,CAAC;EAEDD,aAAa,CAACE,OAAO,CAAEC,YAAY,IAAK;IACvC,MAAMC,eAAe,GAAGD,YAAY,CAACF,gBAAgB,CAAC,eAAe,CAAC;IAEtEG,eAAe,CAACF,OAAO,CAAEG,IAAI,IAAK;MACjCA,IAAI,CAACN,gBAAgB,CAAC,OAAO,EAAE,UAAUO,KAAK,EAAE;QAC/CA,KAAK,CAACC,cAAc,CAAC,CAAC;QACtB,MAAMC,IAAI,GAAG,IAAI,CAACC,YAAY,CAAC,WAAW,CAAC;;QAE3C;QACAC,KAAK,CAAC,6BAA6BF,IAAI,wBAAwB,EAAE;UAChEG,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YACR,cAAc,EAAE;UACjB;QACD,CAAC,CAAC,CACAC,IAAI,CAAEC,QAAQ,IAAK;UACnB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;YACjB,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;UAC/C;UACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAAC,CAAC;QACzB,CAAC,CAAC,CACDJ,IAAI,CAAEK,IAAI,IAAK;UACf;UACA;UACA;UACAf,YAAY,CAACgB,SAAS,GAAG,EAAE,CAAC,CAAC;UAC7BD,IAAI,CAAChB,OAAO,CAAEkB,IAAI,IAAK;YACtB;YACA,MAAMC,WAAW,GAAGvB,QAAQ,CAACwB,aAAa,CAAC,KAAK,CAAC;YACjDD,WAAW,CAACF,SAAS,GAAG,OAAOC,IAAI,CAACG,KAAK,CAACC,QAAQ,aAAaJ,IAAI,CAACK,OAAO,CAACD,QAAQ,QAAQ;YAC5FrB,YAAY,CAACuB,WAAW,CAACL,WAAW,CAAC;UACtC,CAAC,CAAC;QACH,CAAC,CAAC,CACDM,KAAK,CAAEC,KAAK,IAAK;UACjBC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC9C,CAAC,CAAC;MACJ,CAAC,CAAC;IACH,CAAC,CAAC;EACH,CAAC,CAAC;AACH,CAAC,CAAC;;AAEF,8B","sources":["webpack://hudsonblocks/./src/secondblock/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n/* eslint-disable no-console */\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\tconst blockWrappers = document.querySelectorAll(\n\t\t\".wp-block-hudsonblocks-secondblock\",\n\t);\n\n\tblockWrappers.forEach((blockWrapper) => {\n\t\tconst paginationLinks = blockWrapper.querySelectorAll(\".pagination a\");\n\n\t\tpaginationLinks.forEach((link) => {\n\t\t\tlink.addEventListener(\"click\", function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tconst page = this.getAttribute(\"data-page\");\n\n\t\t\t\t// Fetch new content based on the page number\n\t\t\t\tfetch(`/wp-json/wp/v2/posts?page=${page}&&per_page=2&&offset=2`, {\n\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tif (!response.ok) {\n\t\t\t\t\t\t\tthrow new Error(\"Network response was not ok\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn response.json(); // Assuming the response is JSON\n\t\t\t\t\t})\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\t// Assuming the data is in HTML format or needs rendering\n\t\t\t\t\t\t// Render the new content (this depends on the structure of your response)\n\t\t\t\t\t\t// For example, you might need to update only specific parts of the content\n\t\t\t\t\t\tblockWrapper.innerHTML = \"\"; // Clear the old content\n\t\t\t\t\t\tdata.forEach((post) => {\n\t\t\t\t\t\t\t// Create and append new content dynamically\n\t\t\t\t\t\t\tconst postElement = document.createElement(\"div\");\n\t\t\t\t\t\t\tpostElement.innerHTML = `<h2>${post.title.rendered}</h2><div>${post.content.rendered}</div>`;\n\t\t\t\t\t\t\tblockWrapper.appendChild(postElement);\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.error(\"Error fetching posts:\", error);\n\t\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n});\n\n/* eslint-enable no-console */\n"],"names":["document","addEventListener","blockWrappers","querySelectorAll","forEach","blockWrapper","paginationLinks","link","event","preventDefault","page","getAttribute","fetch","method","headers","then","response","ok","Error","json","data","innerHTML","post","postElement","createElement","title","rendered","content","appendChild","catch","error","console"],"sourceRoot":""}